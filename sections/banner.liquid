{{ 'section-banner.css' | asset_url | stylesheet_tag }}
{{ 'component-rte.css' | asset_url | stylesheet_tag }}

{%- liquid
  assign sectionId = section.id | remove: '-'

  for block in section.blocks
    if block.type == "custom_typo"
      render 'block-custom-typo', block: block
    endif
  endfor
  
  assign layout = section.settings.layout
  assign layout_orientation = section.settings.layout_orientation

  assign media_type = section.settings.media_type
  assign media_type_mobile = section.settings.media_type_mobile
  assign image_class = 'media--image media--desktop'
  assign image_class_mobile = 'media--image media--mobile'

  assign image = section.settings.image
  if section.settings.image_mobile != blank
    assign image_mobile = section.settings.image_mobile
  else
    assign image_mobile = section.settings.image
  endif

  assign video_link = section.settings.video_link
  if section.settings.video_link_mobile != blank
    assign video_link_mobile = section.settings.video_link_mobile
  else
    assign video_link_mobile = section.settings.video_link
  endif

  if media_type == 'image'
    assign image_to_ratio = image
  else
    assign image_to_ratio = video_link.preview_image
  endif

  if media_type_mobile == 'image'
    assign image_to_ratio_mobile = image_mobile
  else
    assign image_to_ratio_mobile = video_link_mobile.preview_image
  endif

  if section.settings.video_link != blank
    assign image_class = 'media--image media--hide'
    assign image_class_mobile = 'media--image media--hide media--mobile'
  endif

  assign content_offset = 5
  if section.settings.content_background_behavior == 'transparent'
    assign content_offset = 0
  endif

  assign lazy = 'eager'
  if section.settings.lazy
    assign lazy = 'lazy'
  endif
  
  if section.settings.enable_cut_bg_color or bgImage != blank or bgImageMobile != blank
    render 'cut-colored'
  endif
-%}

{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top_sm }}px;
    padding-bottom: {{ section.settings.padding_bottom_sm }}px;
  }

  {%- if section.settings.hide_mobile -%}
    @media screen and (max-width: 749px) {
      .section-{{ section.id }}-padding { display: none; }
    }
  {%- endif -%}

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
      {%- if section.settings.hide_desktop -%}
        display: none;
      {%- endif -%}
    }
  }

  {%- if layout == "full" -%}
    #banner__media-{{ section.id }}-desktop,
    #banner__media-{{ section.id }}-mobile {
      min-height: var(--banner-content-height);
    }
  {%- endif -%}

  #banner__media-{{ section.id }}-desktop::after,
  #banner__media-{{ section.id }}-mobile::after {
    {% if section.settings.image_overlay_opacity == 0 or layout == "image_with_text" %}
      content: none;
    {% endif %}
    opacity: {{ section.settings.image_overlay_opacity | divided_by: 100.0 }};
    background: rgb(var(--color-{{ section.settings.image_overlay_color }}));
  }

  #banner__content-{{ section.id }} {
    width: {{ section.settings.content_container_width | divided_by: 10.0 }}rem;
    {%- case section.settings.mobile_content_position -%}
      {%- when "top_left" -%}
        {%- if layout == "full" -%}
          top: {{ content_offset | divided_by: 2 }}rem;
          left: 50%;
          transform: translateX(-50%);
        {%- else -%}
          align-self: start;
        {%- endif -%}
      {%- when "middle_left" -%}
        {%- if layout == "full" -%}
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
        {%- else -%}
          align-self: center;
        {%- endif -%}
      {%- when "bottom_left" -%}
        {%- if layout == "full" -%}
          bottom: {{ content_offset | divided_by: 2 }}rem;
          left: 50%;
          transform: translateX(-50%);
        {%- else -%}
          align-self: end;
        {%- endif -%}
      {%- when "top" -%}
        {%- if layout == "full" -%}
          top: {{ content_offset | divided_by: 2 }}rem;
          left: 50%;
          transform: translateX(-50%);
        {%- else -%}
          align-self: start;
        {%- endif -%}
      {%- when "middle" -%}
        {%- if layout == "full" -%}
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
        {%- else -%}
          align-self: center;
        {%- endif -%}
      {%- when "bottom" -%}
        {%- if layout == "full" -%}
          bottom: {{ content_offset | divided_by: 2 }}rem;
          left: 50%;
          transform: translateX(-50%);
        {%- else -%}
          align-self: end;
        {%- endif -%}
      {%- when "top_right" -%}
        {%- if layout == "full" -%}
          left: 50%;
          transform: translateX(-50%);
          top: {{ content_offset | divided_by: 2 }}rem;
        {%- else -%}
          align-self: start;
        {%- endif -%}
      {%- when "middle_right" -%}
        {%- if layout == "full" -%}
          left: 50%;
          transform: translate(-50%, -50%);
          top: 50%;
        {%- else -%}
          align-self: center;
        {%- endif -%}
      {%- when "bottom_right" -%}
        {%- if layout == "full" -%}
          bottom: {{ content_offset | divided_by: 2 }}rem;
          left: 50%;
          transform: translateX(-50%);
        {%- else -%}
          align-self: end;
        {%- endif -%}
    {%- endcase -%}
    {%- case section.settings.content_background_behavior -%}
      {%- when "transparent" -%}
        background: transparent;
        border: none;
      {%- when "blur" -%}
        background: rgba(var(--color-background), .5);
        backdrop-filter: blur(1rem);
      {%- when "translucid" -%}
        background: rgba(var(--color-background), .7);
    {%- endcase -%}
  }

  {%- if section.settings.layout == "image_with_text" -%}
    #banner__content-{{ section.id }} {
      width: 100%;
    }
  {%- endif -%}

  {% if section.settings.content_background_behavior == 'transparent' %}
    .banner--full .banner__content {
      box-shadow: unset;
    }
  {% endif %}

  @media screen and (min-width: 750px) {
    #banner__content-{{ section.id }} {
      {%- case section.settings.desktop_content_position -%}
        {%- when "top_left" -%}
          {%- if layout == "full" -%}
            bottom: auto;
            right: auto;
            top: {{ content_offset }}rem;
            left: {{ content_offset }}rem;
            transform: none;
          {%- else -%}
            align-self: start;
          {%- endif -%}
        {%- when "middle_left" -%}
          {%- if layout == "full" -%}
            bottom: auto;
            right: auto;
            top: 50%;
            left: {{ content_offset }}rem;
            transform: translateY(-50%);
          {%- else -%}
            align-self: center;
          {%- endif -%}
        {%- when "bottom_left" -%}
          {%- if layout == "full" -%}
            top: auto;
            right: auto;
            bottom: {{ content_offset }}rem;
            left: {{ content_offset }}rem;
            transform: none;
          {%- else -%}
            align-self: end;
          {%- endif -%}
        {%- when "top" -%}
          {%- if layout == "full" -%}
            bottom: auto;
            right: auto;
            top: {{ content_offset }}rem;
            left: 50%;
            transform: translateX(-50%);
          {%- else -%}
            align-self: start;
          {%- endif -%}
        {%- when "middle" -%}
          {%- if layout == "full" -%}
            bottom: auto;
            right: auto;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
          {%- else -%}
            align-self: center;
          {%- endif -%}
        {%- when "bottom" -%}
          {%- if layout == "full" -%}
            bottom: {{ content_offset }}rem;
            right: auto;
            top: auto;
            left: 50%;
            transform: translateX(-50%);
          {%- else -%}
            align-self: end;
          {%- endif -%}
        {%- when "top_right" -%}
          {%- if layout == "full" -%}
            bottom: auto;
            left: auto;
            right: {{ content_offset }}rem;
            top: {{ content_offset }}rem;
            transform: none;
          {%- else -%}
            align-self: start;
          {%- endif -%}
        {%- when "middle_right" -%}
          {%- if layout == "full" -%}
            bottom: auto;
            left: auto;
            right: {{ content_offset }}rem;
            top: 50%;
            transform: translateY(-50%);
          {%- else -%}
            align-self: center;
          {%- endif -%}
        {%- when "bottom_right" -%}
          {%- if layout == "full" -%}
            top: auto;
            left: auto;
            bottom: {{ content_offset }}rem;
            right: {{ content_offset }}rem;
            transform: none;
          {%- else -%}
            align-self: end;
          {%- endif -%}
      {%- endcase -%}
    }
  }

  /* ========== STYLES TRUSTPILOT - ETOILES CARREES ========== */
  .banner-trustpilot {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
  }

  .banner-trustpilot--left { justify-content: flex-start; }
  .banner-trustpilot--center { justify-content: center; }
  .banner-trustpilot--right { justify-content: flex-end; }

  .banner-trustpilot__stars {
    display: flex;
    align-items: center;
    gap: 2px;
  }

  .banner-trustpilot__star {
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #00b67a;
    position: relative;
  }

  .banner-trustpilot__star svg {
    fill: white;
  }

  .banner-trustpilot__star--half {
    background: linear-gradient(90deg, #00b67a 50%, #dcdce6 50%);
  }

  .banner-trustpilot__star--empty {
    background-color: #dcdce6;
  }

  .banner-trustpilot__star--empty svg {
    fill: #dcdce6;
  }

  .banner-trustpilot__info {
    display: flex;
    align-items: center;
    gap: 6px;
    color: currentColor;
  }

  .banner-trustpilot__rating {
    font-weight: 400;
  }

  .banner-trustpilot__rating--bold {
    font-weight: 700;
  }

  .banner-trustpilot__separator {
    color: currentColor;
    opacity: 0.5;
  }

  .banner-trustpilot__count {
    font-weight: 400;
  }

  .banner-trustpilot__count--bold {
    font-weight: 700;
  }

  /* ========== STYLES BADGE VERIFIE ========== */
  .banner-verified-badge {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .banner-verified-badge--left { justify-content: flex-start; }
  .banner-verified-badge--center { justify-content: center; }
  .banner-verified-badge--right { justify-content: flex-end; }

  .banner-verified-badge__icon {
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .banner-verified-badge__icon img {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }

  .banner-verified-badge__text {
    font-weight: 400;
    color: currentColor;
  }

  .banner-verified-badge__text--bold {
    font-weight: 700;
  }
{%- endstyle -%}

{%- capture media_desktop -%}
  <div id="banner__media-{{ section.id }}-desktop"
    class="banner__media banner__media--{{ section.settings.height }} banner__media--layout-{{ layout }} banner__media--desktop
      {% if image != blank or image_mobile != blank or video_link != blank %} media{% if video_link != blank %} media--video{% endif %}{% else %} banner__placeholder placeholder{% endif %}"
    {% if image != blank and section.settings.height == "adapt" %}style="padding-bottom: {{ 1 | divided_by: image_to_ratio.aspect_ratio | times: 100 }}%"{% endif %}>

    {%- if image != blank and media_type == "image" -%}
      {% assign image_height = image.width | divided_by: image.aspect_ratio %}
      {{ image
        | image_url: width: 3840
        | image_tag: loading: lazy, width: image.width, height: image_height, class: image_class, sizes: '100vw', widths: '375, 550, 750, 1100, 1500, 1780, 2000, 3000, 3840'
      }}
    {%- else -%}
      {%- if media_type == "image" or video_link == blank -%}
        {{ 'lifestyle-2' | placeholder_svg_tag: 'placeholder-svg' }}
      {%- endif -%}
    {%- endif -%}

    {%- if media_type == "video" and video_link != blank -%}
      {{
        video_link
          | video_tag:
            image_size: '1100x',
            autoplay: true,
            loop: true,
            controls: false,
            muted: true
      }}
    {%- endif -%}
  </div>
{%- endcapture -%}

{%- capture media_mobile -%}
  <div id="banner__media-{{ section.id }}-mobile"
    class="banner__media banner__media--{{ section.settings.height }} banner__media--layout-{{ layout }} banner__media--mobile
      {% if image != blank or image_mobile != blank or video_link != blank %} media{% if video_link != blank %} media--video{% endif %}{% else %} banner__placeholder placeholder{% endif %}"
    {% if image_mobile != blank and section.settings.height == "adapt" %}style="padding-bottom: {{ 1 | divided_by: image_to_ratio_mobile.aspect_ratio | times: 100 }}%"{% endif %}>

    {%- if image_mobile != blank and media_type_mobile == "image" -%}
      {{ image_mobile
        | image_url: width: 1500
        | image_tag: loading: lazy, class: image_class_mobile, widths: '360, 535, 750, 1070, 1500'
      }}
    {%- else -%}
      {%- if media_type_mobile == "image" or video_link_mobile == blank -%}
        {{ 'collection-5' | placeholder_svg_tag: 'placeholder-svg' }}
      {%- endif -%}
    {%- endif -%}

    {%- if media_type_mobile == "video" and video_link_mobile != blank -%}
      {{
        video_link_mobile
          | video_tag:
            image_size: '1100x',
            autoplay: true,
            loop: true,
            controls: false,
            muted: true
      }}
    {%- endif -%}
  </div>
{%- endcapture -%}

{%- capture content -%}
  <div id="banner__content-{{ section.id }}"
    class="banner__content content-container color-{{ section.settings.color_palette }}
      banner__content--{{ section.settings.mobile_content_position }}--mobile
      banner__content--{{ section.settings.desktop_content_position }}
      banner__content--{{ section.settings.text_color }}
      banner__content--{{ layout }}
      banner__content--{{ section.settings.height }}">

    {%- for block in section.blocks -%}
      {% case block.type %}

        {%- comment -%} ================================
            BLOC TRUSTPILOT - ETOILES CARREES
        ================================ {%- endcomment -%}
        {%- when 'trustpilot' -%}
          {%- if block.settings.enable_trustpilot -%}
            {%- assign star_size = block.settings.star_size -%}
            {%- assign star_icon_size = star_size | times: 0.58 | round -%}
            
            <div class="banner-trustpilot banner-trustpilot--{{ block.settings.trustpilot_alignment }}" 
              style="margin-bottom: {{ block.settings.margin_bottom | divided_by: 10.0 }}rem; font-size: {{ block.settings.text_size | divided_by: 10.0 }}rem;"
              {%- render "animation", enable_animations: section.settings.enable_animations, animation: section.settings.animation -%}
              {{ block.shopify_attributes }}>
              
              <div class="banner-trustpilot__stars">
                {%- assign rating_value = block.settings.trustpilot_rating -%}
                {%- assign full_stars = rating_value | floor -%}
                {%- assign decimal_part = rating_value | modulo: 1 -%}
                {%- assign has_half_star = false -%}
                {%- if decimal_part >= 0.25 and decimal_part < 0.75 -%}
                  {%- assign has_half_star = true -%}
                {%- elsif decimal_part >= 0.75 -%}
                  {%- assign full_stars = full_stars | plus: 1 -%}
                {%- endif -%}
                {%- assign half_star_position = full_stars | plus: 1 -%}
                
                {%- for i in (1..5) -%}
                  {%- if i <= full_stars -%}
                    <span class="banner-trustpilot__star" style="width: {{ star_size }}px; height: {{ star_size }}px;">
                      <svg viewBox="0 0 24 24" style="width: {{ star_icon_size }}px; height: {{ star_icon_size }}px;"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                    </span>
                  {%- elsif has_half_star and i == half_star_position -%}
                    <span class="banner-trustpilot__star banner-trustpilot__star--half" style="width: {{ star_size }}px; height: {{ star_size }}px;">
                      <svg viewBox="0 0 24 24" style="width: {{ star_icon_size }}px; height: {{ star_icon_size }}px;"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                    </span>
                  {%- else -%}
                    <span class="banner-trustpilot__star banner-trustpilot__star--empty" style="width: {{ star_size }}px; height: {{ star_size }}px;">
                      <svg viewBox="0 0 24 24" style="width: {{ star_icon_size }}px; height: {{ star_icon_size }}px;"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                    </span>
                  {%- endif -%}
                {%- endfor -%}
              </div>
              
              <div class="banner-trustpilot__info">
                <span class="banner-trustpilot__rating{% if block.settings.text_bold %} banner-trustpilot__rating--bold{% endif %}">{{ block.settings.trustpilot_rating }}</span>
                <span class="banner-trustpilot__separator">|</span>
                <span class="banner-trustpilot__count{% if block.settings.text_bold %} banner-trustpilot__count--bold{% endif %}">+{{ block.settings.trustpilot_reviews }} avis</span>
              </div>
            </div>
          {%- endif -%}

         {%- comment -%} ================================
            BLOC BADGE VERIFIE - SCEAU DENTELE
        ================================ {%- endcomment -%}
        {%- when 'verified_badge' -%}
          {%- if block.settings.enable_verified_badge -%}
            {%- assign badge_icon_size = block.settings.badge_icon_size -%}
            
            <div class="banner-verified-badge banner-verified-badge--{{ block.settings.badge_alignment }}" 
              style="margin-bottom: {{ block.settings.margin_bottom | divided_by: 10.0 }}rem; font-size: {{ block.settings.badge_font_size | divided_by: 10.0 }}rem;"
              {%- render "animation", enable_animations: section.settings.enable_animations, animation: section.settings.animation -%}
              {{ block.shopify_attributes }}>
              
              {%- comment -%} Icone par defaut ou personnalisee {%- endcomment -%}
              <span class="banner-verified-badge__icon" style="width: {{ badge_icon_size }}px; height: {{ badge_icon_size }}px;">
                {%- if block.settings.badge_custom_icon != blank -%}
                  {{ block.settings.badge_custom_icon | image_url: width: 120 | image_tag }}
                {%- else -%}
                  <img src="https://cdn.shopify.com/s/files/1/0711/3274/1771/files/enleve-juste-le-cercle-blanc-au-milieu--removebg-preview.png?v=1766780338" alt="Badge verifie" loading="lazy">
                {%- endif -%}
              </span>
              
              <span class="banner-verified-badge__text{% if block.settings.text_bold %} banner-verified-badge__text--bold{% endif %}">{{ block.settings.badge_text }}</span>
            </div>
          {%- endif -%}

        {%- comment -%} ================================
            BLOC HEADING
        ================================ {%- endcomment -%}
        {%- when 'heading' -%}
          {%- if block.settings.enable_slides -%}
            {%- assign slides = block.settings.slides | split: ',' -%}
            {%- capture slides_content -%}
              <div 
                id="bannerSwiper__{{ sectionId }}" 
                class="swiper swiper_no_pagination banner__swiper"
                data-swiper-autoplay="true"
                data-swiper-autoplay-delay="1500"
                data-swiper-loop="true"
                data-swiper-direction="vertical"
                data-swiper-slides-per-view="1"
                data-swiper-simulate-touch="false"
                data-swiper-auto-height="false"
                data-swiper-observer="true">
                <div class="swiper-wrapper">
                  {%- for slide in slides -%}
                    <div class="swiper-slide banner__slide">{{ slide }}</div>
                  {%- endfor -%}
                </div>
              </div>
            {%- endcapture -%}
          {%- endif -%}

          <style>
            #banner__content-{{ section.id }} .heading__style--1.banner__heading {
              font-size: calc(2.4rem * {{ block.settings.heading_font_size | divided_by: 100.0 }});
            }

            @media screen and (max-width: 750px) {
              #banner__content-{{ section.id }} .heading__style--1.banner__heading {
                font-size: calc(2.4rem * {{ block.settings.heading_font_size_mobile | divided_by: 100.0 }});
              }
            }
          </style>

          <div style="margin-bottom: {{ block.settings.margin_bottom | divided_by: 10.0 }}rem;">
            {%- render "heading", 
              enable_animations: section.settings.enable_animations,
              animation: section.settings.animation,
              subheading: block.settings.subheading,
              heading: block.settings.heading,
              heading_class: "banner__heading",
              heading_style: block.settings.heading_style,
              enable_slides: block.settings.enable_slides,
              slides: slides_content
            -%}
          </div>

        {%- comment -%} ================================
            BLOC TEXT
        ================================ {%- endcomment -%}
        {%- when 'text' -%}
          <style>
            #banner__content-{{ section.id }} .image-with-text__text {
              font-size: calc(1.6rem * {{ block.settings.description_font_size | divided_by: 100.0 }});
              {%- if block.settings.text_bold -%}
                font-weight: 700;
              {%- endif -%}
            }

            @media screen and (max-width: 750px) {
              #banner__content-{{ section.id }} .image-with-text__text {
                font-size: calc(1.6rem * {{ block.settings.description_font_size_mobile | divided_by: 100.0 }});
              }
            }
          </style>

          <div class="image-with-text__text rte" style="margin-bottom: {{ block.settings.margin_bottom | divided_by: 10.0 }}rem;"
            {%- render "animation", enable_animations: section.settings.enable_animations, animation: section.settings.animation -%}
            {{ block.shopify_attributes }}>
            {{ block.settings.description }}
          </div>

        {%- comment -%} ================================
            BLOC TIMER
        ================================ {%- endcomment -%}
        {%- when 'timer' -%}
          <div class="timer__block" style="margin-bottom: {{ block.settings.margin_bottom | divided_by: 10.0 }}rem;"
              {%- render "animation", enable_animations: section.settings.enable_animations, animation: section.settings.animation -%}
              {{ block.shopify_attributes }}>
            {%- render 'timer', show_animations: true, timer_style: block.settings.timer_style, timer_text: block.settings.text -%}
          </div>

        {%- comment -%} ================================
            BLOC ICONS
        ================================ {%- endcomment -%}
        {%- when 'icons' -%}
          <div class="image-with-text__icons" style="margin-bottom: {{ block.settings.margin_bottom | divided_by: 10.0 }}rem;" {{ block.shopify_attributes }}>
            {%- render "block-icons",
              enable_animations: section.settings.enable_animations,
              animation: section.settings.animation,
              block: block
            -%}
          </div>

        {%- comment -%} ================================
            BLOC BUTTON
        ================================ {%- endcomment -%}
        {%- when 'button' -%}
          <style>
            #banner__content-{{ section.id }} .banner__content-buttons .button {
              font-size: calc(1.4rem * {{ block.settings.button_font_size | divided_by: 100.0 }});
              padding: {{ block.settings.button_padding_y | divided_by: 10.0 }}rem {{ block.settings.button_padding_x | divided_by: 10.0 }}rem;
            }

            @media screen and (max-width: 750px) {
              #banner__content-{{ section.id }} .banner__content-buttons .button {
                font-size: calc(1.4rem * {{ block.settings.button_font_size_mobile | divided_by: 100.0 }});
                padding: {{ block.settings.button_padding_y_mobile | divided_by: 10.0 }}rem {{ block.settings.button_padding_x_mobile | divided_by: 10.0 }}rem;
              }
            }
          </style>

          <div class="button__container" style="margin-bottom: {{ block.settings.margin_bottom | divided_by: 10.0 }}rem;">
            <div class="banner__content-buttons" {{ block.shopify_attributes }}
              {%- render "animation", enable_animations: section.settings.enable_animations, animation: section.settings.animation -%}>
              <a href="{{ block.settings.button_link }}" class="button button__style--{{ block.settings.button_style }}">
                {{ block.settings.button_text | escape }}
              </a>
              {%- if block.settings.button_text_secondary != blank and block.settings.button_link_secondary != blank -%}
                <a href="{{ block.settings.button_link_secondary }}" 
                  class="button button__style--{{ block.settings.button_style_secondary }}">
                  {{ block.settings.button_text_secondary | escape }}
                </a>
              {%- endif -%}
            </div>
            {%- liquid
              if block.settings.extra_button
                render 'extra-button', unique: section.id
              endif
            -%}
          </div>

      {%- endcase -%}
    {%- endfor -%}

  </div>
{%- endcapture -%}

{%- render 'separator-top', section: section -%}

<div
  id="{{ section.settings.section_id }}"
  class="color-{{ section.settings.color_palette }} section-{{ section.id }}-padding{% if section.settings.enable_cut_bg_color or bgImage != blank or bgImageMobile != blank %} cut-colored-section{% endif %}"
  data-section-id="{{ section.id }}"
>
  <div
    class="banner banner--{{ layout }}{% if layout == 'image_with_text' %} banner--{{ layout_orientation }}{% endif %}
      {% if section.settings.gutterless_mobile or layout == 'full' %}banner--gutterless{% endif %}
      container container--{{ section.settings.layout_width }}"
  >
    {%- liquid
      for block in section.blocks
        if block.type == "picto"
          render "pictogram", block: block
        endif
      endfor
    -%}
    
    {{- media_desktop -}}
    {{- media_mobile -}}
    <div class="banner__content-wrapper">
      {{- content -}}
    </div>
  </div>
</div>

{%- render 'separator-bottom', section: section -%}

<script>
  function updateBannerSlideHeight() {
    const slides = document.querySelectorAll('.banner__slide');
    if (slides.length > 0) {
      let maxHeight = 0;
      slides.forEach(slide => {
        maxHeight = Math.max(maxHeight, slide.offsetHeight);
      });
      document.documentElement.style.setProperty('--banner-slide-height', `${maxHeight}px`);
    }
  }

  function updateBannerContentHeight() {
    const bannerContent = document.querySelector('.banner__content');
    if (bannerContent) {
      document.documentElement.style.setProperty('--banner-content-height', `${bannerContent.offsetHeight + 100}px`);
    }
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', function() {
      updateBannerSlideHeight();
      updateBannerContentHeight();
      
      if (typeof ResizeObserver !== 'undefined') {
        const resizeObserver = new ResizeObserver(function() {
          updateBannerSlideHeight();
          updateBannerContentHeight();
        });
        
        const bannerContent = document.querySelector('.banner__content');
        if (bannerContent) {
          resizeObserver.observe(bannerContent);
        }
      }
    });
  } else {
    updateBannerSlideHeight();
    updateBannerContentHeight();
  }
</script>

{% schema %}
{
  "name": "t:sections.banner.name",
  "class": "section section-banner",
  "tag": "section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "text",
      "id": "section_id",
      "label": "t:sections.global.section_id"
    },
    {
      "type": "header",
      "content": "t:sections.global.headers.media"
    },
    {
      "type": "range",
      "id": "image_overlay_opacity",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "t:sections.banner.settings.image_overlay_opacity.label",
      "default": 0
    },
    {
      "type": "select",
      "id": "image_overlay_color",
      "options": [
        {
          "value": "foreground",
          "label": "t:sections.image-banner.settings.image_overlay_color.options.title"
        },
        {
          "value": "foreground-secondary",
          "label": "t:sections.image-banner.settings.image_overlay_color.options.text"
        },
        {
          "value": "accent-1",
          "label": "t:sections.image-banner.settings.image_overlay_color.options.accent_1"
        },
        {
          "value": "accent-2",
          "label": "t:sections.image-banner.settings.image_overlay_color.options.accent_2"
        },
        {
          "value": "background",
          "label": "t:sections.image-banner.settings.image_overlay_color.options.background"
        },
        {
          "value": "background-secondary",
          "label": "t:sections.image-banner.settings.image_overlay_color.options.background_secondary"
        }
      ],
      "label": "t:sections.image-banner.settings.image_overlay_color.label",
      "default": "foreground"
    },
    {
      "type": "select",
      "id": "height",
      "options": [
        {
          "value": "adapt",
          "label": "t:sections.banner.settings.height.options.adapt"
        },
        {
          "value": "one_third",
          "label": "t:sections.banner.settings.height.options.one_third"
        },
        {
          "value": "one_half",
          "label": "t:sections.banner.settings.height.options.one_half"
        },
        {
          "value": "two_thirds",
          "label": "t:sections.banner.settings.height.options.two_thirds"
        },
        {
          "value": "full",
          "label": "t:sections.banner.settings.height.options.full"
        }
      ],
      "default": "adapt",
      "label": "t:sections.banner.settings.height.label"
    },
    {
      "type": "select",
      "id": "layout",
      "options": [
        {
          "value": "full",
          "label": "t:sections.banner.settings.layout.options.full"
        },
        {
          "value": "image_with_text",
          "label": "t:sections.banner.settings.layout.options.image_with_text"
        }
      ],
      "default": "image_with_text",
      "label": "t:sections.banner.settings.layout.label"
    },
    {
      "type": "select",
      "id": "layout_orientation",
      "options": [
        {
          "value": "left",
          "label": "t:sections.banner.settings.layout_orientation.options.left"
        },
        {
          "value": "right",
          "label": "t:sections.banner.settings.layout_orientation.options.right"
        }
      ],
      "default": "right",
      "label": "t:sections.banner.settings.layout_orientation.label"
    },
    {
      "type": "checkbox",
      "id": "gutterless_mobile",
      "label": "t:sections.banner.settings.gutterless_mobile.label",
      "default": true
    },
    {
      "type": "header",
      "content": "t:sections.global.headers.media_desktop"
    },
    {
      "type": "select",
      "id": "media_type",
      "options": [
        {
          "value": "image",
          "label": "t:sections.global.media_type.options.image"
        },
        {
          "value": "video",
          "label": "t:sections.global.media_type.options.video"
        }
      ],
      "default": "image",
      "label": "t:sections.global.media_type.label"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "t:sections.global.image.label",
      "visible_if": "{{ section.settings.media_type == 'image' }}"
    },
    {
      "type": "video",
      "id": "video_link",
      "label": "t:sections.global.video.label",
      "visible_if": "{{ section.settings.media_type == 'video' }}"
    },
    {
      "type": "header",
      "content": "t:sections.global.headers.media_mobile"
    },
    {
      "type": "select",
      "id": "media_type_mobile",
      "options": [
        {
          "value": "image",
          "label": "t:sections.global.media_type.options.image"
        },
        {
          "value": "video",
          "label": "t:sections.global.media_type.options.video"
        }
      ],
      "default": "image",
      "label": "t:sections.global.media_type.label"
    },
    {
      "type": "image_picker",
      "id": "image_mobile",
      "label": "t:sections.global.image.label",
      "visible_if": "{{ section.settings.media_type_mobile == 'image' }}"
    },
    {
      "type": "video",
      "id": "video_link_mobile",
      "label": "t:sections.global.video.label",
      "visible_if": "{{ section.settings.media_type_mobile == 'video' }}"
    },
    {
      "type": "checkbox",
      "id": "lazy",
      "label": "t:sections.global.lazy.label",
      "default": true
    },
    {
      "type": "header",
      "content": "t:sections.global.headers.text"
    },
    {
      "type": "range",
      "id": "content_container_width",
      "min": 300,
      "max": 1000,
      "step": 20,
      "unit": "px",
      "label": "t:sections.banner.settings.content_container_width.label",
      "info": "t:sections.banner.settings.content_container_width.info",
      "default": 500
    },
    {
      "type": "select",
      "id": "text_color",
      "options": [
        {
          "value": "text",
          "label": "t:sections.banner.settings.text_color.options.text"
        },
        {
          "value": "background",
          "label": "t:sections.banner.settings.text_color.options.background"
        }
      ],
      "label": "t:sections.banner.settings.text_color.label",
      "default": "background"
    },
    {
      "type": "select",
      "id": "desktop_content_position",
      "options": [
        {
          "value": "top_left",
          "label": "t:sections.banner.settings.desktop_content_position.options.top_left"
        },
        {
          "value": "middle_left",
          "label": "t:sections.banner.settings.desktop_content_position.options.middle_left"
        },
        {
          "value": "bottom_left",
          "label": "t:sections.banner.settings.desktop_content_position.options.bottom_left"
        },
        {
          "value": "top",
          "label": "t:sections.banner.settings.desktop_content_position.options.top"
        },
        {
          "value": "middle",
          "label": "t:sections.banner.settings.desktop_content_position.options.middle"
        },
        {
          "value": "bottom",
          "label": "t:sections.banner.settings.desktop_content_position.options.bottom"
        },
        {
          "value": "top_right",
          "label": "t:sections.banner.settings.desktop_content_position.options.top_right"
        },
        {
          "value": "middle_right",
          "label": "t:sections.banner.settings.desktop_content_position.options.middle_right"
        },
        {
          "value": "bottom_right",
          "label": "t:sections.banner.settings.desktop_content_position.options.bottom_right"
        }
      ],
      "default": "middle",
      "label": "t:sections.banner.settings.desktop_content_position.label"
    },
    {
      "type": "select",
      "id": "mobile_content_position",
      "options": [
        {
          "value": "top_left",
          "label": "t:sections.banner.settings.desktop_content_position.options.top_left"
        },
        {
          "value": "middle_left",
          "label": "t:sections.banner.settings.desktop_content_position.options.middle_left"
        },
        {
          "value": "bottom_left",
          "label": "t:sections.banner.settings.desktop_content_position.options.bottom_left"
        },
        {
          "value": "top",
          "label": "t:sections.banner.settings.desktop_content_position.options.top"
        },
        {
          "value": "middle",
          "label": "t:sections.banner.settings.desktop_content_position.options.middle"
        },
        {
          "value": "bottom",
          "label": "t:sections.banner.settings.desktop_content_position.options.bottom"
        },
        {
          "value": "top_right",
          "label": "t:sections.banner.settings.desktop_content_position.options.top_right"
        },
        {
          "value": "middle_right",
          "label": "t:sections.banner.settings.desktop_content_position.options.middle_right"
        },
        {
          "value": "bottom_right",
          "label": "t:sections.banner.settings.desktop_content_position.options.bottom_right"
        }
      ],
      "default": "middle",
      "label": "t:sections.banner.settings.mobile_content_position.label"
    },
    {
      "type": "select",
      "id": "content_background_behavior",
      "options": [
        {
          "value": "transparent",
          "label": "t:sections.banner.settings.content_background_behavior.options.transparent"
        },
        {
          "value": "blur",
          "label": "t:sections.banner.settings.content_background_behavior.options.blur"
        },
        {
          "value": "translucid",
          "label": "t:sections.banner.settings.content_background_behavior.options.translucid"
        },
        {
          "value": "solid",
          "label": "t:sections.banner.settings.content_background_behavior.options.solid"
        }
      ],
      "default": "transparent",
      "label": "t:sections.banner.settings.content_background_behavior.label"
    },
    {
      "type": "header",
      "content": "t:sections.global.headers.animations"
    },
    {
      "type": "checkbox",
      "id": "enable_animations",
      "label": "t:sections.global.animation.enable",
      "default": true
    },
    {
      "type": "select",
      "id": "animation",
      "options": [
        {
          "value": "fade-up",
          "label": "t:sections.global.animation.options.fade_up"
        },
        {
          "value": "fade-down",
          "label": "t:sections.global.animation.options.fade_down"
        },
        {
          "value": "fade-right",
          "label": "t:sections.global.animation.options.fade_right"
        },
        {
          "value": "fade-left",
          "label": "t:sections.global.animation.options.fade_left"
        },
        {
          "value": "zoom-in",
          "label": "t:sections.global.animation.options.zoom_in"
        },
        {
          "value": "zoom-out",
          "label": "t:sections.global.animation.options.zoom_out"
        }
      ],
      "default": "fade-up",
      "label": "t:sections.global.animation.label"
    },
    {
      "type": "header",
      "content": "t:sections.global.headers.layout"
    },
    {
      "type": "checkbox",
      "id": "hide_desktop",
      "label": "t:sections.global.hide_desktop",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "hide_mobile",
      "label": "t:sections.global.hide_mobile",
      "default": false
    },
    {
      "type": "select",
      "id": "layout_width",
      "options": [
        {
          "value": "narrow",
          "label": "t:sections.global.layout_width.options.page_width_narrow"
        },
        {
          "value": "normal",
          "label": "t:sections.global.layout_width.options.page_width"
        },
        {
          "value": "full-padded",
          "label": "t:sections.global.layout_width.options.full_width_padded"
        },
        {
          "value": "full",
          "label": "t:sections.global.layout_width.options.full_width"
        }
      ],
      "default": "full",
      "label": "t:sections.global.layout_width.label"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.global.padding_top.label",
      "default": 0,
      "visible_if": "{{ section.settings.hide_desktop == false }}"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.global.padding_bottom.label",
      "default": 0,
      "visible_if": "{{ section.settings.hide_desktop == false }}"
    },
    {
      "type": "range",
      "id": "padding_top_sm",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.global.padding_top_sm.label",
      "default": 0,
      "visible_if": "{{ section.settings.hide_mobile == false }}"
    },
    {
      "type": "range",
      "id": "padding_bottom_sm",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.global.padding_bottom_sm.label",
      "default": 0,
      "visible_if": "{{ section.settings.hide_mobile == false }}"
    },
    {
      "type": "header",
      "content": "t:sections.global.headers.colors"
    },
    {
      "type": "color_scheme",
      "id": "color_palette",
      "default": "background",
      "label": "t:sections.global.colors_palette.label"
    },
    {
      "type": "checkbox",
      "id": "enable_cut_bg_color",
      "default": false,
      "label": "t:sections.global.cut_bg_color.enable_cut_bg_color"
    },
    {
      "type": "color",
      "id": "cut_bg_color",
      "default": "#F6F6F6",
      "label": "t:sections.global.cut_bg_color.cut_bg_color",
      "visible_if": "{{ section.settings.enable_cut_bg_color }}"
    },
    {
      "type": "range",
      "id": "cut_bg_color_vertical",
      "min": -100,
      "max": 100,
      "step": 2,
      "unit": "%",
      "label": "t:sections.global.cut_bg_color.cut_bg_color_vertical",
      "default": 0,
      "visible_if": "{{ section.settings.enable_cut_bg_color }}"
    },
    {
      "type": "range",
      "id": "cut_bg_color_vertical_mobile",
      "min": -100,
      "max": 100,
      "step": 2,
      "unit": "%",
      "label": "t:sections.global.cut_bg_color.cut_bg_color_vertical_mobile",
      "default": 0,
      "visible_if": "{{ section.settings.enable_cut_bg_color }}"
    },
    {
      "type": "range",
      "id": "cut_bg_color_horizontal",
      "min": -100,
      "max": 100,
      "step": 2,
      "unit": "%",
      "label": "t:sections.global.cut_bg_color.cut_bg_color_horizontal",
      "default": 0,
      "visible_if": "{{ section.settings.enable_cut_bg_color }}"
    },
    {
      "type": "range",
      "id": "cut_bg_color_horizontal_mobile",
      "min": -100,
      "max": 100,
      "step": 2,
      "unit": "%",
      "label": "t:sections.global.cut_bg_color.cut_bg_color_horizontal_mobile",
      "default": 0,
      "visible_if": "{{ section.settings.enable_cut_bg_color }}"
    },
    {
      "type": "header",
      "content": "t:sections.global.headers.separators"
    },
    {
      "type": "select",
      "id": "separator_top",
      "options": [
        {
          "value": "none",
          "label": "t:sections.global.separators.options.none"
        },
        {
          "value": "wave",
          "label": "t:sections.global.separators.options.wave"
        },
        {
          "value": "curve-1",
          "label": "t:sections.global.separators.options.curve1"
        },
        {
          "value": "curve-2",
          "label": "t:sections.global.separators.options.curve2"
        },
        {
          "value": "curve-3",
          "label": "t:sections.global.separators.options.curve3"
        },
        {
          "value": "arrow-1",
          "label": "t:sections.global.separators.options.arrow1"
        },
        {
          "value": "arrow-2",
          "label": "t:sections.global.separators.options.arrow2"
        },
        {
          "value": "circle",
          "label": "t:sections.global.separators.options.circle"
        },
        {
          "value": "diagonal-1",
          "label": "t:sections.global.separators.options.diagonal-1"
        },
        {
          "value": "diagonal-2",
          "label": "t:sections.global.separators.options.diagonal-2"
        },
        {
          "value": "diagonal-3",
          "label": "t:sections.global.separators.options.diagonal-3"
        },
        {
          "value": "fade",
          "label": "t:sections.global.separators.options.fade"
        },
        {
          "value": "line",
          "label": "t:sections.global.separators.options.line"
        }
      ],
      "default": "none",
      "label": "t:sections.global.separators.top"
    },
    {
      "type": "checkbox",
      "id": "separator_top_invert",
      "label": "t:sections.global.separators.invert",
      "default": false,
      "visible_if": "{{ section.settings.separator_top != 'none' }}"
    },
    {
      "type": "select",
      "id": "separator_bottom",
      "options": [
        {
          "value": "none",
          "label": "t:sections.global.separators.options.none"
        },
        {
          "value": "wave",
          "label": "t:sections.global.separators.options.wave"
        },
        {
          "value": "curve-1",
          "label": "t:sections.global.separators.options.curve1"
        },
        {
          "value": "curve-2",
          "label": "t:sections.global.separators.options.curve2"
        },
        {
          "value": "curve-3",
          "label": "t:sections.global.separators.options.curve3"
        },
        {
          "value": "arrow-1",
          "label": "t:sections.global.separators.options.arrow1"
        },
        {
          "value": "arrow-2",
          "label": "t:sections.global.separators.options.arrow2"
        },
        {
          "value": "circle",
          "label": "t:sections.global.separators.options.circle"
        },
        {
          "value": "diagonal-1",
          "label": "t:sections.global.separators.options.diagonal-1"
        },
        {
          "value": "diagonal-2",
          "label": "t:sections.global.separators.options.diagonal-2"
        },
        {
          "value": "diagonal-3",
          "label": "t:sections.global.separators.options.diagonal-3"
        },
        {
          "value": "fade",
          "label": "t:sections.global.separators.options.fade"
        },
        {
          "value": "line",
          "label": "t:sections.global.separators.options.line"
        }
      ],
      "default": "none",
      "label": "t:sections.global.separators.bottom"
    },
    {
      "type": "checkbox",
      "id": "separator_bottom_invert",
      "label": "t:sections.global.separators.invert",
      "default": false,
      "visible_if": "{{ section.settings.separator_bottom != 'none' }}"
    },
    {
      "type": "checkbox",
      "id": "separator_animated",
      "label": "t:sections.global.separators.animated",
      "default": false,
      "visible_if": "{{ section.settings.separator_top != 'none' or section.settings.separator_bottom != 'none' }}"
    },
    {
      "type": "color",
      "id": "separator_bg_color",
      "label": "t:sections.global.separators.bg_color",
      "visible_if": "{{ section.settings.separator_top != 'none' or section.settings.separator_bottom != 'none' }}"
    }
  ],
  "blocks": [
    {
      "type": "trustpilot",
      "name": "Trustpilot Avis",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "enable_trustpilot",
          "label": "Activer Trustpilot",
          "default": true
        },
        {
          "type": "range",
          "id": "trustpilot_rating",
          "min": 1,
          "max": 5,
          "step": 0.1,
          "label": "Note Trustpilot",
          "default": 4.8
        },
        {
          "type": "text",
          "id": "trustpilot_reviews",
          "label": "Nombre d avis",
          "default": "1800"
        },
        {
          "type": "header",
          "content": "Taille des etoiles"
        },
        {
          "type": "range",
          "id": "star_size",
          "min": 16,
          "max": 48,
          "step": 2,
          "unit": "px",
          "label": "Taille des etoiles",
          "default": 24
        },
        {
          "type": "header",
          "content": "Texte"
        },
        {
          "type": "range",
          "id": "text_size",
          "min": 10,
          "max": 24,
          "step": 1,
          "unit": "px",
          "label": "Taille du texte",
          "default": 14
        },
        {
          "type": "checkbox",
          "id": "text_bold",
          "label": "Texte en gras",
          "default": false
        },
        {
          "type": "header",
          "content": "Alignement"
        },
        {
          "type": "select",
          "id": "trustpilot_alignment",
          "options": [
            {
              "value": "left",
              "label": "Gauche"
            },
            {
              "value": "center",
              "label": "Centre"
            },
            {
              "value": "right",
              "label": "Droite"
            }
          ],
          "default": "left",
          "label": "Alignement"
        },
        {
          "type": "header",
          "content": "Mise en page"
        },
        {
          "type": "range",
          "id": "margin_bottom",
          "min": 0,
          "max": 100,
          "step": 4,
          "unit": "px",
          "label": "Marge inferieure",
          "default": 16
        }
      ]
    },
    {
      "type": "verified_badge",
      "name": "Badge Verifie",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "enable_verified_badge",
          "label": "Activer le badge",
          "default": true
        },
        {
          "type": "header",
          "content": "Icone"
        },
        {
          "type": "image_picker",
          "id": "badge_custom_icon",
          "label": "Icone personnalisee",
          "info": "Laissez vide pour utiliser l icone dentele par defaut"
        },
        {
          "type": "range",
          "id": "badge_icon_size",
          "min": 20,
          "max": 80,
          "step": 2,
          "unit": "px",
          "label": "Taille de l icone",
          "default": 32
        },
        {
          "type": "header",
          "content": "Texte"
        },
        {
          "type": "text",
          "id": "badge_text",
          "label": "Texte du badge",
          "default": "Approuve par les dermatologues"
        },
        {
          "type": "range",
          "id": "badge_font_size",
          "min": 12,
          "max": 24,
          "step": 1,
          "unit": "px",
          "label": "Taille du texte",
          "default": 16
        },
        {
          "type": "checkbox",
          "id": "text_bold",
          "label": "Texte en gras",
          "default": false
        },
        {
          "type": "header",
          "content": "Alignement"
        },
        {
          "type": "select",
          "id": "badge_alignment",
          "options": [
            {
              "value": "left",
              "label": "Gauche"
            },
            {
              "value": "center",
              "label": "Centre"
            },
            {
              "value": "right",
              "label": "Droite"
            }
          ],
          "default": "left",
          "label": "Alignement"
        },
        {
          "type": "header",
          "content": "Mise en page"
        },
        {
          "type": "range",
          "id": "margin_bottom",
          "min": 0,
          "max": 100,
          "step": 4,
          "unit": "px",
          "label": "Marge inferieure",
          "default": 16
        }
      ]
    },
    {
      "type": "heading",
      "name": "t:sections.global.blocks.heading",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "subheading",
          "label": "t:sections.global.subheading.label",
          "default": "Details"
        },
        {
          "type": "inline_richtext",
          "id": "heading",
          "label": "t:sections.global.heading.label",
          "default": "Hear from our lovely customers"
        },
        {
          "type": "select",
          "id": "heading_style",
          "options": [
            {
              "value": "1",
              "label": "t:sections.global.style.options.1"
            },
            {
              "value": "2",
              "label": "t:sections.global.style.options.2"
            },
            {
              "value": "3",
              "label": "t:sections.global.style.options.3"
            }
          ],
          "default": "2",
          "label": "t:sections.global.style.heading",
          "visible_if": "{{ section.settings.heading != blank }}"
        },
        {
          "type": "range",
          "id": "heading_font_size",
          "min": 80,
          "max": 200,
          "step": 5,
          "unit": "%",
          "label": "t:settings_schema.global.settings.typography.size",
          "default": 100
        },
        {
          "type": "range",
          "id": "heading_font_size_mobile",
          "min": 80,
          "max": 200,
          "step": 5,
          "unit": "%",
          "label": "t:settings_schema.global.settings.typography.size_mobile",
          "default": 100
        },
        {
          "type": "header",
          "content": "t:sections.banner.headings.slides"
        },
        {
          "type": "checkbox",
          "id": "enable_slides",
          "label": "t:sections.banner.settings.enable_slides.label",
          "default": true
        },
        {
          "type": "textarea",
          "id": "slides",
          "label": "t:sections.banner.settings.slides.label",
          "info": "t:sections.banner.settings.slides.info",
          "default": "Natural, Beautiful, Made in France, Vegan"
        },
        {
          "type": "header",
          "content": "t:sections.global.headers.layout"
        },
        {
          "type": "range",
          "id": "margin_bottom",
          "min": 0,
          "max": 100,
          "step": 4,
          "unit": "px",
          "label": "t:sections.global.margin_bottom.label",
          "default": 16
        }
      ]
    },
    {
      "type": "text",
      "name": "t:sections.global.blocks.text",
      "limit": 1,
      "settings": [
        {
          "type": "richtext",
          "id": "description",
          "label": "t:sections.global.description.label",
          "default": "<p>Pair text with an image to focus on your chosen product, collection, or blog post. Add details on availability, style, or even provide a review.</p>"
        },
        {
          "type": "range",
          "id": "description_font_size",
          "min": 80,
          "max": 200,
          "step": 5,
          "unit": "%",
          "label": "t:settings_schema.global.settings.typography.size",
          "default": 100
        },
        {
          "type": "range",
          "id": "description_font_size_mobile",
          "min": 80,
          "max": 200,
          "step": 5,
          "unit": "%",
          "label": "t:settings_schema.global.settings.typography.size_mobile",
          "default": 100
        },
        {
          "type": "checkbox",
          "id": "text_bold",
          "label": "Texte en gras",
          "default": false
        },
        {
          "type": "header",
          "content": "t:sections.global.headers.layout"
        },
        {
          "type": "range",
          "id": "margin_bottom",
          "min": 0,
          "max": 100,
          "step": 4,
          "unit": "px",
          "label": "t:sections.global.margin_bottom.label",
          "default": 16
        }
      ]
    },
    {
      "type": "timer",
      "name": "t:sections.global.timer.name",
      "limit": 1,
      "settings": [
        {
          "type": "select",
          "id": "timer_style",
          "options": [
            {
              "value": "minimalist",
              "label": "t:sections.global.timer.timer_style.options.minimalist"
            },
            {
              "value": "full",
              "label": "t:sections.global.timer.timer_style.options.full"
            }
          ],
          "default": "minimalist",
          "label": "t:sections.global.timer.timer_style.label"
        },
        {
          "type": "inline_richtext",
          "id": "text",
          "label": "t:sections.global.timer.timer_text"
        },
        {
          "type": "header",
          "content": "t:sections.global.headers.layout"
        },
        {
          "type": "range",
          "id": "margin_bottom",
          "min": 0,
          "max": 100,
          "step": 4,
          "unit": "px",
          "label": "t:sections.global.margin_bottom.label",
          "default": 16
        }
      ]
    },
    {
      "type": "button",
      "name": "t:sections.global.blocks.button",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "button_text",
          "label": "t:sections.global.button_text.label",
          "default": "Discover"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "t:sections.global.button_link.label",
          "visible_if": "{{ block.settings.button_text != blank }}"
        },
        {
          "type": "select",
          "id": "button_style",
          "options": [
            {
              "value": "1",
              "label": "t:sections.global.style.options.1"
            },
            {
              "value": "2",
              "label": "t:sections.global.style.options.2"
            },
            {
              "value": "3",
              "label": "t:sections.global.style.options.3"
            }
          ],
          "default": "2",
          "label": "t:sections.global.style.button",
          "visible_if": "{{ block.settings.button_text != blank }}"
        },
        {
          "type": "header",
          "content": "Taille du bouton (Desktop)"
        },
        {
          "type": "range",
          "id": "button_font_size",
          "min": 80,
          "max": 200,
          "step": 10,
          "unit": "%",
          "label": "Taille du texte",
          "default": 100
        },
        {
          "type": "range",
          "id": "button_padding_x",
          "min": 10,
          "max": 60,
          "step": 2,
          "unit": "px",
          "label": "Padding horizontal",
          "default": 24
        },
        {
          "type": "range",
          "id": "button_padding_y",
          "min": 8,
          "max": 40,
          "step": 2,
          "unit": "px",
          "label": "Padding vertical",
          "default": 14
        },
        {
          "type": "header",
          "content": "Taille du bouton (Mobile)"
        },
        {
          "type": "range",
          "id": "button_font_size_mobile",
          "min": 80,
          "max": 200,
          "step": 10,
          "unit": "%",
          "label": "Taille du texte mobile",
          "default": 100
        },
        {
          "type": "range",
          "id": "button_padding_x_mobile",
          "min": 10,
          "max": 60,
          "step": 2,
          "unit": "px",
          "label": "Padding horizontal mobile",
          "default": 20
        },
        {
          "type": "range",
          "id": "button_padding_y_mobile",
          "min": 8,
          "max": 40,
          "step": 2,
          "unit": "px",
          "label": "Padding vertical mobile",
          "default": 12
        },
        {
          "type": "header",
          "content": "Bouton secondaire"
        },
        {
          "type": "text",
          "id": "button_text_secondary",
          "label": "t:sections.global.button_text_secondary.label"
        },
        {
          "type": "url",
          "id": "button_link_secondary",
          "label": "t:sections.global.button_link_secondary.label",
          "visible_if": "{{ block.settings.button_text_secondary != blank }}"
        },
        {
          "type": "select",
          "id": "button_style_secondary",
          "options": [
            {
              "value": "1",
              "label": "t:sections.global.style.options.1"
            },
            {
              "value": "2",
              "label": "t:sections.global.style.options.2"
            },
            {
              "value": "3",
              "label": "t:sections.global.style.options.3"
            }
          ],
          "default": "2",
          "label": "t:sections.global.style.button_secondary",
          "visible_if": "{{ block.settings.button_text_secondary != blank }}"
        },
        {
          "type": "checkbox",
          "id": "extra_button",
          "label": "t:sections.global.style.extra_button.label",
          "info": "t:sections.global.style.extra_button.info",
          "default": false
        },
        {
          "type": "header",
          "content": "t:sections.global.headers.layout"
        },
        {
          "type": "range",
          "id": "margin_bottom",
          "min": 0,
          "max": 100,
          "step": 4,
          "unit": "px",
          "label": "t:sections.global.margin_bottom.label",
          "default": 16
        }
      ]
    },
    {
      "type": "icons",
      "name": "t:sections.global.blocks.icons",
      "limit": 1,
      "settings": [
        {
          "type": "select",
          "id": "icons_style",
          "options": [
            {
              "value": "bullets",
              "label": "t:sections.image-with-text.blocks.icons.style.options.bullets"
            },
            {
              "value": "bullets_half",
              "label": "t:sections.image-with-text.blocks.icons.style.options.bullets_half"
            },
            {
              "value": "grid",
              "label": "t:sections.image-with-text.blocks.icons.style.options.grid"
            },
            {
              "value": "block",
              "label": "t:sections.image-with-text.blocks.icons.style.options.block"
            }
          ],
          "default": "grid",
          "label": "t:sections.image-with-text.blocks.icons.style.label",
          "info": "t:sections.image-with-text.blocks.icons.style.info"
        },
        {
          "type": "select",
          "id": "fill_color",
          "options": [
            {
              "value": "accent",
              "label": "t:sections.product.blocks.rating.rating_fill.options.accent"
            },
            {
              "value": "text",
              "label": "t:sections.product.blocks.rating.rating_fill.options.text"
            }
          ],
          "default": "accent",
          "label": "t:sections.product.blocks.rating.rating_fill.label"
        },
        {
          "type": "checkbox",
          "id": "fill_fade_background",
          "label": "t:sections.image-with-text.blocks.icons.fill_fade_background.label",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "bg_color_icons",
          "label": "t:sections.image-with-text.blocks.icons.bg_color_icons.label",
          "default": false
        },
        {
          "type": "header",
          "content": "t:settings_schema.icons.settings.headers.1"
        },
        {
          "type": "select",
          "id": "icon_1_icon_type",
          "options": [
            { "value": "check_mark", "label": "t:sections.collapsible_content.blocks.collapsible_row.settings.icon.options__8.label" }
          ],
          "default": "check_mark",
          "label": "t:settings_schema.icons.settings.icon.label"
        },
        {
          "type": "image_picker",
          "id": "icon_1_custom_icon",
          "label": "t:settings_schema.icons.settings.custom_icon.label"
        },
        {
          "type": "inline_richtext",
          "id": "icon_1_text",
          "label": "t:settings_schema.icons.settings.text.label",
          "default": "Number 1 in the world"
        },
        {
          "type": "inline_richtext",
          "id": "icon_1_description",
          "label": "t:settings_schema.icons.settings.description.label",
          "default": "Put here a description of the benefit or the feature."
        },
        {
          "type": "url",
          "id": "icon_1_url",
          "label": "t:settings_schema.icons.settings.url.label"
        },
        {
          "type": "header",
          "content": "t:settings_schema.icons.settings.headers.2"
        },
        {
          "type": "select",
          "id": "icon_2_icon_type",
          "options": [
            { "value": "check_mark", "label": "t:sections.collapsible_content.blocks.collapsible_row.settings.icon.options__8.label" }
          ],
          "default": "check_mark",
          "label": "t:settings_schema.icons.settings.icon.label"
        },
        {
          "type": "image_picker",
          "id": "icon_2_custom_icon",
          "label": "t:settings_schema.icons.settings.custom_icon.label"
        },
        {
          "type": "inline_richtext",
          "id": "icon_2_text",
          "label": "t:settings_schema.icons.settings.text.label",
          "default": "Best customer service"
        },
        {
          "type": "inline_richtext",
          "id": "icon_2_description",
          "label": "t:settings_schema.icons.settings.description.label",
          "default": "Put here a description of the benefit or the feature."
        },
        {
          "type": "url",
          "id": "icon_2_url",
          "label": "t:settings_schema.icons.settings.url.label"
        },
        {
          "type": "header",
          "content": "t:settings_schema.icons.settings.headers.3"
        },
        {
          "type": "select",
          "id": "icon_3_icon_type",
          "options": [
            { "value": "check_mark", "label": "t:sections.collapsible_content.blocks.collapsible_row.settings.icon.options__8.label" }
          ],
          "default": "check_mark",
          "label": "t:settings_schema.icons.settings.icon.label"
        },
        {
          "type": "image_picker",
          "id": "icon_3_custom_icon",
          "label": "t:settings_schema.icons.settings.custom_icon.label"
        },
        {
          "type": "inline_richtext",
          "id": "icon_3_text",
          "label": "t:settings_schema.icons.settings.text.label",
          "default": "Great product quality"
        },
        {
          "type": "inline_richtext",
          "id": "icon_3_description",
          "label": "t:settings_schema.icons.settings.description.label",
          "default": "Put here a description of the benefit or the feature."
        },
        {
          "type": "url",
          "id": "icon_3_url",
          "label": "t:settings_schema.icons.settings.url.label"
        },
        {
          "type": "header",
          "content": "t:settings_schema.icons.settings.headers.4"
        },
        {
          "type": "select",
          "id": "icon_4_icon_type",
          "options": [
            { "value": "check_mark", "label": "t:sections.collapsible_content.blocks.collapsible_row.settings.icon.options__8.label" }
          ],
          "default": "check_mark",
          "label": "t:settings_schema.icons.settings.icon.label"
        },
        {
          "type": "image_picker",
          "id": "icon_4_custom_icon",
          "label": "t:settings_schema.icons.settings.custom_icon.label"
        },
        {
          "type": "inline_richtext",
          "id": "icon_4_text",
          "label": "t:settings_schema.icons.settings.text.label",
          "default": "Recommended by professionals"
        },
        {
          "type": "inline_richtext",
          "id": "icon_4_description",
          "label": "t:settings_schema.icons.settings.description.label",
          "default": "Put here a description of the benefit or the feature."
        },
        {
          "type": "url",
          "id": "icon_4_url",
          "label": "t:settings_schema.icons.settings.url.label"
        },
        {
          "type": "header",
          "content": "t:sections.global.headers.layout"
        },
        {
          "type": "range",
          "id": "margin_bottom",
          "min": 0,
          "max": 100,
          "step": 4,
          "unit": "px",
          "label": "t:sections.global.margin_bottom.label",
          "default": 16
        }
      ]
    },
    {
      "type": "picto",
      "name": "t:sections.global.picto.name",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "t:sections.global.picto.image"
        },
        {
          "type": "header",
          "content": "t:sections.global.picto.headers.top_left"
        },
        {
          "type": "range",
          "id": "top",
          "min": -50,
          "max": 130,
          "step": 2,
          "unit": "%",
          "label": "t:sections.global.picto.top",
          "default": 36
        },
        {
          "type": "range",
          "id": "left",
          "min": -50,
          "max": 130,
          "step": 2,
          "unit": "%",
          "label": "t:sections.global.picto.left",
          "default": 36
        },
        {
          "type": "range",
          "id": "top_mobile",
          "min": -50,
          "max": 130,
          "step": 2,
          "unit": "%",
          "label": "t:sections.global.picto.top_mobile",
          "default": 36
        },
        {
          "type": "range",
          "id": "left_mobile",
          "min": -50,
          "max": 130,
          "step": 2,
          "unit": "%",
          "label": "t:sections.global.picto.left_mobile",
          "default": 36
        },
        {
          "type": "header",
          "content": "t:sections.global.picto.headers.rotate"
        },
        {
          "type": "range",
          "id": "rotate",
          "min": 0,
          "max": 356,
          "step": 4,
          "unit": "deg",
          "label": "t:sections.global.picto.rotate",
          "default": 0
        },
        {
          "type": "range",
          "id": "rotate_mobile",
          "min": 0,
          "max": 356,
          "step": 4,
          "unit": "deg",
          "label": "t:sections.global.picto.rotate_mobile",
          "default": 0
        },
        {
          "type": "header",
          "content": "t:sections.global.picto.headers.width"
        },
        {
          "type": "range",
          "id": "width",
          "min": 0,
          "max": 356,
          "step": 4,
          "unit": "px",
          "label": "t:sections.global.picto.width",
          "default": 72
        },
        {
          "type": "range",
          "id": "width_mobile",
          "min": 0,
          "max": 356,
          "step": 4,
          "unit": "px",
          "label": "t:sections.global.picto.width_mobile",
          "default": 72
        }
      ]
    },
    {
      "name": "t:sections.global.custom_typo.name",
      "type": "custom_typo",
      "settings": [
        {
          "type": "header",
          "content": "t:sections.global.custom_typo.headers.title"
        },
        {
          "type": "select",
          "id": "title_bold_color",
          "options": [
            { "value": "shade", "label": "t:sections.global.custom_typo.bold_color.options.shade" },
            { "value": "accent-1", "label": "t:sections.global.custom_typo.bold_color.options.accent_1" },
            { "value": "accent-2", "label": "t:sections.global.custom_typo.bold_color.options.accent_2" },
            { "value": "foreground", "label": "t:sections.global.custom_typo.bold_color.options.title" },
            { "value": "foreground-secondary", "label": "t:sections.global.custom_typo.bold_color.options.text" }
          ],
          "default": "shade",
          "label": "t:sections.global.custom_typo.bold_color.label"
        },
        {
          "type": "select",
          "id": "title_bold_transformation",
          "options": [
            { "value": "normal", "label": "t:sections.global.custom_typo.bold_transformation.options.normal" },
            { "value": "bold", "label": "t:sections.global.custom_typo.bold_transformation.options.bold" }
          ],
          "default": "bold",
          "label": "t:sections.global.custom_typo.bold_transformation.label"
        },
        {
          "type": "header",
          "content": "t:sections.global.custom_typo.headers.text"
        },
        {
          "type": "select",
          "id": "text_bold_color",
          "options": [
            { "value": "shade", "label": "t:sections.global.custom_typo.bold_color.options.shade" },
            { "value": "accent-1", "label": "t:sections.global.custom_typo.bold_color.options.accent_1" },
            { "value": "accent-2", "label": "t:sections.global.custom_typo.bold_color.options.accent_2" },
            { "value": "foreground", "label": "t:sections.global.custom_typo.bold_color.options.title" },
            { "value": "foreground-secondary", "label": "t:sections.global.custom_typo.bold_color.options.text" }
          ],
          "default": "shade",
          "label": "t:sections.global.custom_typo.bold_color.label"
        },
        {
          "type": "select",
          "id": "text_bold_transformation",
          "options": [
            { "value": "normal", "label": "t:sections.global.custom_typo.bold_transformation.options.normal" },
            { "value": "bold", "label": "t:sections.global.custom_typo.bold_transformation.options.bold" }
          ],
          "default": "bold",
          "label": "t:sections.global.custom_typo.bold_transformation.label"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "t:sections.banner.name",
      "category": "t:categories.media_text",
      "blocks": [
        { "type": "trustpilot" },
        { "type": "heading" },
        { "type": "text" },
        { "type": "button" },
        { "type": "verified_badge" }
      ]
    }
  ]
}
{% endschema %}
