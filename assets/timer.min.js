function getCorrectOutput(e){return String(Math.trunc(e)).padStart(2,0)}customElements.get("timer-element")||customElements.define("timer-element",class e extends HTMLElement{connectedCallback(){if(this.timerType=window.timer.type,Shopify.designMode&&(clearInterval(this.intervalId),sessionStorage.removeItem("timer")),"automatic"==this.timerType)this.storedTimer=sessionStorage.getItem("timer"),null!==this.storedTimer?this.storedTimer=parseInt(this.storedTimer):this.storeTimer();else{const e=new Date(+window.timer.year,+window.timer.month-1,+window.timer.day,+window.timer.hours,+window.timer.minutes,+window.timer.seconds),t=new Date,i=undefined,r=undefined,s=Math.floor(e.getTime()/1e3)-Math.floor(t.getTime()/1e3);this.storedTimer=s}this.numbers=this.querySelector(".timer__numbers"),this.initTimer(),document.addEventListener("shopify:section:load",(()=>this.resetData())),document.addEventListener("shopify:section:unload",(()=>this.resetData()))}initTimer(){this.tick(),this.intervalId=setInterval((()=>this.tick()),1e3)}tick(){const e=this.storedTimer/86400;this.numbers.querySelector(".timer__days")&&(e<1?this.numbers.querySelector(".timer__days").style.display="none":this.numbers.querySelector(".timer__days .timer__change").textContent=getCorrectOutput(this.storedTimer/86400));const t=this.storedTimer/3600%24;if(this.numbers.querySelector(".timer__hours")&&(t<1&&e<1?this.numbers.querySelector(".timer__hours").style.display="none":this.numbers.querySelector(".timer__hours .timer__change").textContent=getCorrectOutput(this.storedTimer/3600%24)),this.numbers.querySelector(".timer__minutes .timer__change").textContent=getCorrectOutput(this.storedTimer/60%60),this.numbers.querySelector(".timer__seconds .timer__change").textContent=getCorrectOutput(this.storedTimer%60),this.storedTimer<=0){if(this.style.display="none",window.timer.link){const e=new URL(window.timer.link,window.location.origin).href;e!==window.location.href&&(window.location.href=e)}this.resetData()}else this.storedTimer--,"automatic"==this.timerType&&sessionStorage.setItem("timer",this.storedTimer)}storeTimer(){const e=undefined,t=undefined,i=undefined,r=undefined,s=+window.timer.seconds+60*+window.timer.minutes+3600*+window.timer.hours+86400*+window.timer.days;sessionStorage.setItem("timer",s),this.storedTimer=parseInt(s)}resetData(){clearInterval(this.intervalId),"automatic"==this.timerType&&(sessionStorage.removeItem("timer"),this.storeTimer()),this.storedTimer>0&&this.initTimer()}});