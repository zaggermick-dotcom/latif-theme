var Cocoen=(()=>{var e=Object.defineProperty,t,n={};((t,n)=>{for(var i in n)e(t,i,{get:n[i],enumerable:!0})})(n,{create:()=>D,parse:()=>y});var i="cocoen",o=`${i}-component`,s=e=>Number.parseInt(window.getComputedStyle(e).height,10),r=e=>Number.parseInt(window.getComputedStyle(e).width,10),a=({dragElementSize:e,hostElementSize:t,value:n})=>{let i,o,s;return 100*((Math.min(Math.max(n,0),t)+.5*e)/t)},l=(e,t,n="horizontal")=>{let i=0,o=0;return"horizontal"===n?(i=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=t?.getBoundingClientRect().left??0):"vertical"===n&&(i=e instanceof MouseEvent?e.clientY:e.touches[0].clientY,o=t?.getBoundingClientRect().top??0),i-o},h=(e,t)=>{let n;return(...i)=>{let o;return n&&clearTimeout(n),n=setTimeout((()=>{o=e(...i)}),t),o}},d=e=>`${e}%`;function u(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function c(e){return u(+e[0])+u(+e[1])+u(+e[2])}const m=getComputedStyle(document.documentElement).getPropertyValue("--color-foreground");function c(e,t,n){const i=undefined,o=undefined;return`#${(e<<16|t<<8|n).toString(16).padStart(6,"0")}`}const g=undefined,p=getComputedStyle(document.documentElement).getPropertyValue("--color-background").split(",").map(Number),[v,b,E]=p,w=c(v,b,E).replace("#","");var f=`\n  :host {\n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    cursor: pointer;\n    display: block;\n    overflow: hidden;\n    position: relative;\n    user-select: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -ms-user-select: none;\n  }\n\n  :host *,\n  :host *:after,\n  :host *:before {\n    box-sizing: inherit;\n    -moz-box-sizing: inherit;\n    -webkit-box-sizing: inherit;\n  }\n\n  #before {\n    height: 100%;\n    left: 0;\n    overflow: hidden;\n    position: absolute;\n    top: 0;\n    width: 50%;\n  }\n\n  :host([orientation="vertical"]) #before {\n    width: 100%;\n    height: 50%;\n  }\n\n  #drag {\n    background: var(--color, #fff);\n    bottom: 0;\n    cursor: ew-resize;\n    left: 50%;\n    position: absolute;\n    top: 0;\n    width: 2px;\n    transform: translate3d(-50%, 0, 0);\n  }\n\n  :host([orientation="vertical"]) #drag {\n    height: 2px;\n    left: 0;\n    top: 50%;\n    width: 100%;\n    cursor: ns-resize;\n    transform: translate3d(0, -50%, 0);\n  }\n\n  #drag:before {\n    content: '';\n    height: 5rem;\n    width: 5rem;\n    left: 50%;\n    position: absolute;\n    top: 50%;\n    transform: translate3d(-50%, -50%, 0);\n\t\tborder: none;\n\t\tbackground-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' id='Calque_1' data-name='Calque 1' viewBox='0 0 60 60'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:transparent;%7D.cls-2%7Bfill:%23${w};stroke:%23${w};stroke-miterlimit:10;stroke-width:2px;%7D%3C/style%3E%3C/defs%3E%3Cg id='Group_260' data-name='Group 260'%3E%3Ccircle id='Ellipse_1' data-name='Ellipse 1' class='cls-1' cx='30' cy='30' r='30'/%3E%3Cg id='Group_261' data-name='Group 261'%3E%3Cpath id='down-chevron' class='cls-2' d='M20.3,37l-5.7-5.7,5.7-5.7-.7-.7-6.3,6.4,6.3,6.4Z'/%3E%3Cpath id='down-chevron-2' class='cls-2' d='M40.3,25.6,46,31.3,40.3,37l.7.7,6.3-6.4L41,24.9Z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");\n\t\tbackground-color: rgba(${m}, .6);\n\t\tbackdrop-filter: blur(1rem);\n\t\t-webkit-backdrop-filter: blur(1rem);\n\t\tborder-radius: 50%;\n  }\n\n  :host([orientation="vertical"]) #drag:before {\n    height: 14px;\n    width: 30px;\n  }\n\n  ::slotted(img) {\n    max-height: 100%;\n    max-width: 100%;\n    object-fit: cover;\n    pointer-events: none;\n  }\n\n  ::slotted(img[slot=before]) {\n    max-width: none;\n  }\n\n  :host([orientation="vertical"]) ::slotted(img[slot=before]) {\n    max-height: none;\n    max-width: 100%;\n  }\n\n  ::slotted(img[slot=after]) {\n    display: block;\n    max-width: 100%;\n    width: 100%;\n  }\n\n  :host([orientation="vertical"]) ::slotted(img[slot=after]) {\n    max-height: 100%;\n    height: 100%;\n  }\n`,S=class extends HTMLElement{constructor(){super(),this.animateToValue=0,this.colorValue="#fff",this.orientationValue="horizontal",this.dragElementSizeValue=0,this.elementSizeValue=0,this.isDraggingValue=!1,this.openRatioValue=50,this.isRenderedValue=!1,this.isVisibleValue=!1,this.pointValue=0,this.drag=null,this.shadowDOM=this.attachShadow({mode:"open"}),this.onDragStartHandler=()=>this.onDragStart(),this.onDragEndHandler=()=>this.onDragEnd(),this.onDragHandler=e=>this.onDrag(e),this.onClickHandler=e=>this.onClick(e),this.onContextMenuHandler=()=>this.onContextMenu(),this.onIntersectionHandler=(e,t)=>this.onIntersection(e,t),this.debouncedUpdateDimensions=h((()=>{this.updateDimensions()}),250),this.intersectionObserver=new IntersectionObserver(this.onIntersectionHandler,{root:null,rootMargin:"0px",threshold:0})}get point(){return this.pointValue}set point(e){this.pointValue=e,window.requestAnimationFrame((()=>{this.openRatio=a({value:this.pointValue,dragElementSize:this.dragElementSize,hostElementSize:this.elementSize})}))}get elementSize(){return this.elementSizeValue}set elementSize(e){this.elementSizeValue=e}get dragElementSize(){return this.dragElementSizeValue}set dragElementSize(e){this.dragElementSizeValue=e}get isDragging(){return this.isDraggingValue}set isDragging(e){this.isDraggingValue=e}get openRatio(){return this.openRatioValue}set openRatio(e){this.openRatioValue=e,window.requestAnimationFrame((()=>{this.updateStyles()}))}get color(){return this.colorValue}set color(e){this.colorValue=e,window.requestAnimationFrame((()=>{this.style.setProperty("--color",this.color)}))}get isVisible(){return this.isVisibleValue}set isVisible(e){this.isVisibleValue=e}get isRendered(){return this.isRenderedValue}set isRendered(e){this.isRenderedValue=e}get animateTo(){return this.animateToValue}set animateTo(e){this.animateToValue=e}get orientation(){return this.orientationValue}set orientation(e){this.orientationValue=e,window.requestAnimationFrame((()=>{this.updateDimensions(),this.updateStyles()}))}static get observedAttributes(){return["start","color","orientation"]}attributeChangedCallback(e,t,n){t!==n&&("start"===e&&(this.animateTo=Number.parseInt(String(this.getAttribute("start")),10),this.isVisible&&(this.openRatio=this.animateTo)),"color"===e&&(this.color=String(this.getAttribute("color"))),"orientation"===e&&(this.orientation=this.getAttribute("orientation")))}connectedCallback(){this.isRendered||(this.render(),this.isRendered=!0,this.dispatchEvent(new CustomEvent(`${o}:connected`,this.customEventPayload())),this.drag=this.shadowDOM.querySelector("#drag"),this.updateDimensions(),this.addEventListener("mousedown",this.onDragStartHandler,{passive:!0}),this.addEventListener("touchstart",this.onDragStartHandler,{passive:!0}),this.addEventListener("mousemove",this.onDragHandler,{passive:!0}),this.addEventListener("touchmove",this.onDragHandler,{passive:!0}),this.addEventListener("click",this.onClickHandler,{passive:!0}),this.addEventListener("contextmenu",this.onContextMenuHandler,{passive:!0}),window.addEventListener("resize",this.debouncedUpdateDimensions,{passive:!0}),window.addEventListener("mouseup",this.onDragEndHandler,{passive:!0}),window.addEventListener("touchend",this.onDragEndHandler,{passive:!0}),this.intersectionObserver.observe(this))}disconnectedCallback(){this.dispatchEvent(new CustomEvent(`${o}:disconnected`,this.customEventPayload())),this.removeEventListener("mousedown",this.onDragStartHandler),this.removeEventListener("touchstart",this.onDragStartHandler),this.removeEventListener("mousemove",this.onDragHandler),this.removeEventListener("touchmove",this.onDragHandler),this.removeEventListener("click",this.onClickHandler),this.removeEventListener("contextmenu",this.onContextMenuHandler),window.removeEventListener("resize",this.debouncedUpdateDimensions),window.removeEventListener("mouseup",this.onDragEndHandler),window.removeEventListener("touchend",this.onDragEndHandler),this.intersectionObserver.unobserve(this)}render(){this.shadowDOM.innerHTML=`\n      <style>${f}</style>\n      <div id="before">\n        <slot name="before"></slot>\n      </div>\n      <slot name="after"></slot>\n      <div id="drag" part="drag"></div>\n    `}updateDimensions(){this.elementSize="horizontal"===this.orientation?r(this):s(this),this.drag&&(this.dragElementSize="horizontal"===this.orientation?r(this.drag):s(this.drag)),this.querySelectorAll("img").forEach((e=>{"horizontal"===this.orientation?e.width=this.elementSize:e.height=this.elementSize})),this.dispatchEvent(new CustomEvent(`${o}:resized`,this.customEventPayload()))}updateStyles(){let e=this.shadowDOM.querySelector("#before"),t=this.shadowDOM.querySelector("#drag"),n=d(this.openRatio);this.animateTo?(e.style.transition="width height .75s",t.style.transition="left top .75s"):(e.style.transition="none",t.style.transition="none"),"horizontal"===this.orientation?(e.style.height="100%",e.style.width=n,t.style.left=n,t.style.top="0px"):"vertical"===this.orientation&&(e.style.width="100%",e.style.height=n,t.style.top=n,t.style.left="0px"),this.dispatchEvent(new CustomEvent(`${o}:updated`,this.customEventPayload()))}onDragStart(){this.animateTo=0,this.isDragging=!0}onDrag(e){!this.isDragging||(this.point=l(e,this,this.orientation))}onDragEnd(){this.isDragging=!1}onClick(e){this.animateTo=0,this.point=l(e,this,this.orientation)}onContextMenu(){this.isDragging=!1}onIntersection(e,t){e.forEach((e=>{e.isIntersecting&&(this.dispatchEvent(new CustomEvent(`${o}:visible`,this.customEventPayload())),this.animateTo&&(this.openRatio=this.animateTo),this.isVisible=!0,t.unobserve(this))}))}customEventPayload(){return{bubbles:!0,composed:!0,detail:{elementSize:this.elementSize,openRatio:this.openRatio,isRendered:this.isRendered,isVisible:this.isVisible}}}};customElements.define(o,S);var D=(e,t)=>{let n=document.createElement(o),i=e.querySelectorAll("img");if(!i[0]||!i[1])throw new Error("Cocoen needs two images");let s=i[0].cloneNode(!0),r=i[1].cloneNode(!0);return s.setAttribute("slot","before"),r.setAttribute("slot","after"),n.append(s,r),t&&t.start&&n.setAttribute("start",String(t.start)),t&&t.color&&n.setAttribute("color",t.color),t&&t.orientation&&n.setAttribute("orientation",t.orientation),Object.entries(e.dataset).forEach((([e,i])=>{void 0===t?.[e]&&i&&n.setAttribute(e,i)})),e.replaceWith(n),n},y=e=>{[...e.querySelectorAll(`.${i}`)].map((e=>D(e)))};return n})();